{"filter":false,"title":"EntrustRole.php","tooltip":"/vendor/zizaco/entrust/src/Entrust/Middleware/EntrustRole.php","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":35,"column":1},"end":{"row":42,"column":2},"action":"remove","lines":["public function handle($request, Closure $next, $roles)","\t{","\t\tif ($this->auth->guest() || !$request->user()->hasRole(explode('|', $roles))) {","\t\t\tabort(403);","\t\t}","","\t\treturn $next($request);","\t}"],"id":2},{"start":{"row":35,"column":1},"end":{"row":47,"column":2},"action":"insert","lines":["public function handle($request, Closure $next, $roles)","\t{","\t\tif (!is_array($roles)) {","\t\t\t$roles = explode(self::DELIMITER, $roles);","\t\t}","","\t\tif ($this->auth->guest() || !$request->user()->hasRole($roles)) {","\t\t\treturn \\Redirect::to('/')->with('message', 'El usuario no cuenta con los permisos requeridos.')","                    ->withInput();","\t\t}","","\t\treturn $next($request);","\t}"]}],[{"start":{"row":14,"column":1},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":15,"column":0},"end":{"row":15,"column":1},"action":"insert","lines":["\t"]}],[{"start":{"row":15,"column":1},"end":{"row":15,"column":23},"action":"insert","lines":["const DELIMITER = '|';"],"id":4}]]},"ace":{"folds":[],"scrolltop":140,"scrollleft":0,"selection":{"start":{"row":40,"column":3},"end":{"row":40,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":69,"mode":"ace/mode/php"}},"timestamp":1551303607460,"hash":"7c720e64bf6c87b0c5b399a922de52bc58e09eb4"}